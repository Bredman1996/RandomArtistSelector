<div *ngIf="isAccessTokenInSession() && !playlists">
  <h2>Now I can get your playlists and then choose one at random for you. </h2>
  <button (click)="getUsersPlaylists()">Get Playlists</button>
</div>
<div class="row">
  <div class="col-sm-5">
  <div *ngIf="playlists">
    <h1>You have {{playlists.length}} playlists</h1>
    <ul>
      <li id="paginating" *ngFor="let playlist of playlists | paginate: { itemsPerPage: 10, currentPage: p }">{{playlist.name}}</li>
    </ul>
    <pagination-controls class="paging" (pageChange)="p = $event"></pagination-controls>
    <button (click)="getRandomPlaylist()">Get Random Playlist</button>
  </div>
  <div *ngIf="selectedPlaylist">
    <h1>Your Random Playlist is: <button (click)="startPlaylist()">{{selectedPlaylist.name}}</button></h1>
    <div *ngIf="tracks">
      <h2>Here are the tracks of your playlist</h2>
      <ul>
        <li *ngFor="let track of tracks.Tracks">{{track.TrackName}} - By: {{track.ArtistName}}</li>
      </ul>
      <div *ngIf="tracks.previousUrl || tracks.nextUrl">
        <div class="pagingControls">
          <button class="pagers" [disabled]="!tracks.previousUrl" (click)="getPreviousTracks()">Get Previous Set of tracks</button>
          <button class="pagers" [disabled]="!tracks.nextUrl" (click)="getNextTracks()">Get Next Set of tracks</button>
        </div>
      </div>
    </div>
  </div>
  </div>
  <div *ngIf="currentlyPlayingInfo" class="col-sm-5">
    <h1 id="currentlyPlaying">You are currently listenting to: {{currentlyPlayingInfo.item.name}} by {{currentlyPlayingInfo.item.artists[0].name}}</h1>
  <div class="row playerControls">
    <div class="col-sm-1">
      <button (click)="goBack()"><<</button>
      <button class="button play" (click)="playSong()"></button>
      <button class="button pause" (click)="pauseSong()"></button>
      <button (click)="skip()">>></button>
    </div>
    <div class="col-sm-2">
      <img src={{currentlyPlayingInfo.item.album.images[1].url}} />
    </div>
  </div>
  </div>
</div>
